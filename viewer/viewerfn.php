<?phpfunction getTitleKib($SPg) {	global $Main;    switch ($SPg) {        case '03': $title = 'BUKU INVENTARIS';            break;        case '04': $title = 'KIB A Tanah';            break;        case '05': $title = 'KIB B Peralatan dan Mesin';            break;        case '06': $title = 'KIB C Gedung dan Bangunan';            break;        case '07': $title = 'KIB D Jalan, Irigasi dan Jaringan';            break;        case '08': $title = 'KIB E Aset Tetap Lainnya';            break;        case '09': $title = 'KIB F Konstruksi Dalam Pengerjaan';            break;		case 'kibg': $title = 'ASET TAK BERWUJUD';            break;        case '10': $title = $Main->NM_WILAYAH2;// 'Pemerintah Provinsi Jawa Barat';//$title = 'Pemerintah Provinsi Jawa Barat';            break;    }    return $title;}function Viewer_Cari_TampilStatus($isi, $cetak = FALSE) {    global $ViewStatus, $SPg;    $clGaris = $cetak == TRUE ? "GarisCetak" : "GarisDaftar";    //if ($ViewStatus == 1){    if ($ViewStatus) {        //gambar ----        //$stGambar= $isi['gambar'] ==""? "":"1";        if ($SPg == '03') {            $idbigbr = $isi['idawal'] == '' || $isi['idawal'] == '0' ? $isi['id'] : $isi['idawal']; //echo $isi['id']."->$idbigbr ";        } else {            $idbigbr = $isi['idawal'] == '' || $isi['idawal'] == '0' ? $isi['idbi'] : $isi['idawal']; //echo $isi['id']."->$idbigbr ";        }        $stGambar = table_get_value("select count(id) as cnt from gambar where idbi=$idbigbr", 'cnt') == 0 ? '' : '1';        //$stGambar .= $idbigbr;        //bersertifikat --        switch ($SPg) {            case '04': {                    $stSertifikat = $isi['bersertifikat'] == 1 ? " 1" : "";                    break;                }            default: {                    $stSertifikat = ""; // 0";                }        }        //koordinat ----        switch ($SPg) {            case '04';            case '06';            case '07';            case '09': {                    $stKoordinat = '';                    if (trim($isi['koordinat_gps']) != '' && trim($isi['koord_bidang']) != '') {                        $stKoordinat = '1';                    } else if (trim($isi['koordinat_gps']) != '' || trim($isi['koord_bidang']) != '') {                        $stKoordinat = "<span style='color:red;font-weight:bold'>1</span>";                    }                    break;                }            default: {                    $stKoordinat = "";                }        }        $tampil =                "<td class=\"$clGaris\">$stGambar</td>			<td class=\"$clGaris\">$stSertifikat</td>			<td class=\"$clGaris\">$stKoordinat</td>			<td class=\"$clGaris\">" . TglInd($isi['tgl_sensus']) . "</td>			<td class=\"$clGaris\">" . TglJamInd($isi['tgl_update']) . "</td>			";    } else {        $tampil = "";    }    //$tampil =  $ViewStatus != 1? "": "<td class=\"$clGaris\">$status</td>";    return $tampil;}function Viewer_GetKondisi() {    global $Main;    global $jmPerHal, $HalDefault, $HalKIB_A, $HalKIB_B, $HalKIB_C, $HalKIB_D, $HalKIB_E, $HalKIB_F, $HalKIB_G;    global $LimitHal, $LimitHalKIB_A, $LimitHalKIB_B, $LimitHalKIB_C, $LimitHalKIB_D, $LimitHalKIB_E, $LimitHalKIB_F, $LimitHalKIB_G;    global $fmKEPEMILIKAN, $fmSKPD, $fmUNIT, $fmSUBUNIT, $fmSEKSI,		$fmTahunPerolehan, $kode_barang, $nm_barang, $selStatusBrg;    global $selHakPakai, $alamat, $selKabKota, $noSert, $keterangan;    global $merk, $bahan, $noPabrik, $noRangka, $noMesin, $noPolisi, $noBPKB;    global $konsTingkat, $konsBeton, $dokumen_no, $status_tanah, $kode_tanah, $kode_loktanah;    global $konstruksi;    global $buku_judul, $buku_spesifikasi, $seni_asal_daerah, $seni_pencipta, $seni_bahan, $hewan_jenis, $hewan_ukuran;    global $bangunan;    global $bersertifikat, $selKondisiBrg;    	global $uraian;//kibg	    global $Kondisi;    global $asc, $cbAscDsc, $selUrut, $Urutkan;    global $cbxDlmRibu;    //------------------    global $OrderByKota, $ViewStatus, $FilterKotaKosong;    global $jmlData, $jmlDataKIB_A, $jmlDataKIB_B, $jmlDataKIB_C, $jmlDataKIB_D, $jmlDataKIB_E, $jmlDataKIB_F, $jmlDataKIB_G;    global $cari, $Main, $Pg, $SPg, $addPageParam, $all, $Adv;    global $tim;    //Kondisi -------------------------------------------------------    $Kondisi = 'a1="' . $fmKEPEMILIKAN . '" ';    $Kondisi .= $fmSKPD == '' ? '' : ' and  c="' . $fmSKPD . '"';    $Kondisi .= $fmUNIT == '00' ? '' : ' and d="' . $fmUNIT . '"';    $Kondisi .= $fmSUBUNIT == '00' ? '' : ' and e="' . $fmSUBUNIT . '"';	$Kondisi .= $fmSEKSI == '000' || $fmSEKSI == '00' || $fmSEKSI=='' ? '' : ' and e1="' . $fmSEKSI . '"';    $Kondisi .= $fmTahunPerolehan == '' ? '' : ' and thn_perolehan="' . $fmTahunPerolehan . '"';    $Kondisi .= $selKondisiBrg == '' ? '' : ' and kondisi="' . $selKondisiBrg . '"';    $Kondisi .= $kode_barang == '' ? '' : ' and concat(f,".",g,".",h,".",i,".",j) like "' . $kode_barang . '%"';    $Kondisi .= $nm_barang == '' ? '' : ' and nm_barang like "%' . $nm_barang . '%"';    $fmJMLHARGA1 = $_POST['fmJMLHARGA1'];    $fmJMLHARGA2 = $_POST['fmJMLHARGA2'];    //if ($fmJMLHARGA1 <> ''){    if ($fmJMLHARGA1 <> '' && $fmJMLHARGA2 <> '') {        $Kondisi .= " and jml_harga>='$fmJMLHARGA1' and jml_harga<='$fmJMLHARGA2'";    } else if ($fmJMLHARGA2 <> '') {        $Kondisi .= " and jml_harga <= '$fmJMLHARGA2'";    } else if ($fmJMLHARGA1 <> '') {        $Kondisi .= " and jml_harga >= '$fmJMLHARGA1'";    }    //}    switch ($selStatusBrg) {        case '' : $Kondisi .= ' and status_barang=1';            break;        case '1': $Kondisi .= '';            break;        default : {                $Kondisi .= ' and status_barang = "' . $selStatusBrg . '"';            }    }    $selStatus = $_POST['selStatus'];    if ($selStatus == '2') {        $Kondisi .= " and (tgl_sensus<>'' and tgl_sensus is not null			and jml_gambar>0 and jml_gambar is not null and koordinat_gps<>'' and koordinat_gps is not null			and koord_bidang <>'' and koord_bidang is not null)";    } else if ($selStatus == '1') {        $Kondisi .= " and !(tgl_sensus<>'' and tgl_sensus is not null			and jml_gambar>0 and jml_gambar is not null and koordinat_gps<>'' and koordinat_gps is not null			and koord_bidang <>'' and koord_bidang is not null)";    }    //echo "kondisi=$Kondisi";    //kondisi kib --------------------------    switch ($SPg) {        case '03': {                break;            }        case '04': {                $Kondisi .= $selHakPakai == '' ? '' : ' and status_hak="' . $selHakPakai . '"';                $Kondisi .= $alamat == '' ? '' : ' and alamat like "%' . $alamat . '%"';                $Kondisi .= $selKabKota == '' ? '' : ' and alamat_a = "' . $Main->Provinsi[0] . '" and alamat_b= "' . $selKabKota . '" ';                $Kondisi .= $noSert == '' ? '' : ' and sertifikat_no like "%' . $noSert . '%"';                $Kondisi .= $keterangan == '' ? '' : ' and ket like "%' . $keterangan . '%"';                //$Kondisi .=  $bersertifikat ==''?'': ' and bersertifikat ="'.$bersertifikat.'"';                if ($bersertifikat != '') {                    switch ($bersertifikat) {                        case '1': $Kondisi .= ' and bersertifikat = "1" ';                            break;                        case '2': $Kondisi .= ' and bersertifikat = "2" ';                            break;                        case '3': $Kondisi .= ' and (bersertifikat = "" or bersertifikat is null) ';                            break;                    }                }                $Kondisi .= $FilterKotaKosong != TRUE ? "" : " and (alamat_a = '' || alamat_b='') ";                break;            }        case '05': {                $Kondisi .= $merk == '' ? '' : ' and merk like "%' . $merk . '%"';                $Kondisi .= $bahan == '' ? '' : ' and bahan like "%' . $bahan . '%"';                $Kondisi .= $noPabrik == '' ? '' : ' and no_pabrik like "%' . $noPabrik . '%"';                $Kondisi .= $noRangka == '' ? '' : ' and no_rangka like "%' . $noRangka . '%"';                $Kondisi .= $noMesin == '' ? '' : ' and no_mesin like "%' . $noMesin . '%"';                $Kondisi .= $noPolisi == '' ? '' : ' and no_polisi like "%' . $noPolisi . '%"';                $Kondisi .= $noBPKB == '' ? '' : ' and no_bpkb like "%' . $noBPKB . '%"';                $Kondisi .= $keterangan == '' ? '' : ' and ket like "%' . $keterangan . '%"';                break;            }        case '06': {                $Kondisi .= $konsTingkat == '' ? '' : ' and konstruksi_tingkat="' . $konsTingkat . '"';                $Kondisi .= $konsBeton == '' ? '' : ' and konstruksi_beton="' . $konsBeton . '"';                $Kondisi .= $alamat == '' ? '' : ' and alamat like "%' . $alamat . '%"';                $Kondisi .= $selKabKota == '' ? '' : ' and alamat_a = "' . $Main->Provinsi[0] . '" and alamat_b= "' . $selKabKota . '" ';                $Kondisi .= $dokumen_no == '' ? '' : ' and dokumen_no="' . $dokumen_no . '"';                $Kondisi .= $status_tanah == '' ? '' : ' and status_tanah="' . $status_tanah . '"';                $Kondisi .= $kode_tanah == '' ? '' : ' and kode_tanah like "%' . $kode_tanah . '%"';                $Kondisi .= $keterangan == '' ? '' : ' and ket like "%' . $keterangan . '%"';                $Kondisi .= $FilterKotaKosong != TRUE ? "" : " and (alamat_a = '' || alamat_b='') ";                break;            }        case '07': {                $Kondisi .= $konstruksi == '' ? '' : ' and konstruksi like "%' . $konstruksi . '%"';                $Kondisi .= $alamat == '' ? '' : ' and alamat like "%' . $alamat . '%"';                $Kondisi .= $selKabKota == '' ? '' : ' and alamat_a = "' . $Main->Provinsi[0] . '" and alamat_b= "' . $selKabKota . '" ';                $Kondisi .= $dokumen_no == '' ? '' : ' and dokumen_no="' . $dokumen_no . '"';                $Kondisi .= $status_tanah == '' ? '' : ' and status_tanah="' . $status_tanah . '"';                $Kondisi .= $kode_tanah == '' ? '' : ' and kode_tanah like "%' . $kode_tanah . '%"';                $Kondisi .= $keterangan == '' ? '' : ' and ket like "%' . $keterangan . '%"';                $Kondisi .= $FilterKotaKosong != TRUE ? "" : " and (alamat_a = '' || alamat_b='') ";                break;            }        case '08': {                $Kondisi .= $buku_judul == '' ? '' : ' and buku_judul like "%' . $buku_judul . '%"';                $Kondisi .= $buku_spesifikasi == '' ? '' : ' and buku_spesifikasi like "%' . $buku_spesifikasi . '%"';                $Kondisi .= $seni_asal_daerah == '' ? '' : ' and seni_asal_daerah like "%' . $seni_asal_daerah . '%"';                $Kondisi .= $seni_pencipta == '' ? '' : ' and seni_pencipta like "%' . $seni_pencipta . '%"';                $Kondisi .= $seni_bahan == '' ? '' : ' and seni_bahan like "%' . $seni_bahan . '%"';                $Kondisi .= $hewan_jenis == '' ? '' : ' and hewan_jenis like "%' . $hewan_jenis . '%"';                $Kondisi .= $hewan_ukuran == '' ? '' : ' and hewan_ukuran like "%' . $hewan_ukuran . '%"';                $Kondisi .= $keterangan == '' ? '' : ' and ket like "%' . $keterangan . '%"';                break;            }        case '09': {                $Kondisi .= $bangunan == '' ? '' : ' and bangunan = "' . $bangunan . '"';                $Kondisi .= $konsTingkat == '' ? '' : ' and konstruksi_tingkat="' . $konsTingkat . '"';                $Kondisi .= $konsBeton == '' ? '' : ' and konstruksi_beton="' . $konsBeton . '"';                $Kondisi .= $alamat == '' ? '' : ' and alamat like "%' . $alamat . '%"';                $Kondisi .= $selKabKota == '' ? '' : ' and alamat_a = "' . $Main->Provinsi[0] . '" and alamat_b= "' . $selKabKota . '" ';                $Kondisi .= $dokumen_no == '' ? '' : ' and dokumen_no="' . $dokumen_no . '"';                $Kondisi .= $status_tanah == '' ? '' : ' and status_tanah="' . $status_tanah . '"';                $Kondisi .= $kode_tanah == '' ? '' : ' and kode_tanah like "%' . $kode_tanah . '%"';                $Kondisi .= $keterangan == '' ? '' : ' and ket like "%' . $keterangan . '%"';                $Kondisi .= $FilterKotaKosong != TRUE ? "" : " and (alamat_a = '' || alamat_b='') ";                break;            }		 case 'kibg': {                $Kondisi .= $uraian == '' ? '' : ' and uraian like "%' . $uraian . '%"';                                break;            }    }    //$cari->cek .= ' kon='.$Kondisi;    return $Kondisi;}function Viewer_Cari_GetList($cetak = FALSE) {    //global $Main;    global $jmPerHal, $HalDefault, $HalKIB_A, $HalKIB_B, $HalKIB_C, $HalKIB_D, $HalKIB_E, $HalKIB_F, $HalKIB_G;    global $LimitHal, $LimitHalKIB_A, $LimitHalKIB_B, $LimitHalKIB_C, $LimitHalKIB_D, $LimitHalKIB_E, $LimitHalKIB_F, $LimitHalKIB_G;    global $fmKEPEMILIKAN, $fmSKPD, $fmUNIT, $fmSUBUNIT, $fmSEKSI,			$fmTahunPerolehan, $kode_barang, $nm_barang, $selStatusBrg;    global $selHakPakai, $alamat, $selKabKota, $noSert, $keterangan;    global $merk, $bahan, $noPabrik, $noRangka, $noMesin, $noPolisi, $noBPKB;    global $konsTingkat, $konsBeton, $dokumen_no, $status_tanah, $kode_tanah, $kode_loktanah;    global $konstruksi;    global $buku_judul, $buku_spesifikasi, $seni_asal_daerah, $seni_pencipta, $seni_bahan, $hewan_jenis, $hewan_ukuran;    global $bangunan;    global $bersertifikat, $selKondisiBrg;		global $uraian; //kib_g        global $Kondisi;    global $asc, $cbAscDsc, $selUrut, $Urutkan;    global $cbxDlmRibu;    //------------------    global $OrderByKota, $ViewStatus, $FilterKotaKosong;    global $jmlData, $jmlDataKIB_A, $jmlDataKIB_B, $jmlDataKIB_C, $jmlDataKIB_D, $jmlDataKIB_E, $jmlDataKIB_F, $jmlDataKIB_G;    global $cari, $Main, $Pg, $SPg, $addPageParam, $all, $Adv;    global $tim;    //Limit -----------------------------------------------------------    if (empty($all)) {        switch ($SPg) {            case '03': {                    $LimitHal = " limit " . (($HalDefault * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal; //$LimitHal = '';                    $noawal = empty($all) ? $Main->PagePerHal * (($HalDefault * 1) - 1) : 0;                    break;                }            case '04': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_A * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_A * 1) - 1) : 0;                    break;                }            case '05': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_B * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_B * 1) - 1) : 0;                    break;                }            case '06': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_C * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_C * 1) - 1) : 0;                    break;                }            case '07': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_D * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_D * 1) - 1) : 0;                    break;                }            case '08': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_E * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_E * 1) - 1) : 0;                    break;                }            case '09': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_F * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_F * 1) - 1) : 0;                    break;                }			case 'kibg': {                    //$LimitHalBI = " limit ".(($HalBI*1) - 1) * $Main->PagePerHal.",".$Main->PagePerHal;                    $LimitHal = " limit " . (($HalKIB_G * 1) - 1) * $Main->PagePerHal . "," . $Main->PagePerHal;                    $noawal = empty($all) ? $Main->PagePerHal * (($HalKIB_G * 1) - 1) : 0;                    break;                }        }    } else {        $LimitHal = ""; //$LimitHalKIB_A=""; $LimitHalKIB_C =""; $LimitHalKIB_D=""; $LimitHalKIB_E=""; $LimitHalKIB_F="";    }    //Kondisi -------------------------------------------------------    $Kondisi = Viewer_GetKondisi();    //sorting --------------------------------------------------------    $Urutkan = '';    $asc = !empty($cbAscDsc) ? " desc " : "";    if ($selUrut != '') {        $Urutkan .= $selUrut . ' ' . $asc . ', ';    }    switch ($SPg) {        case '04': {//a                if ($OrderByKota == TRUE) {                    //$Urutkan = empty($Urutkan)? "": "$Urutkan,";                    $Urutkan .= "alamat_kota, alamat_kec, alamat_kel,";                }                break;            }        case '06': { //c                if ($OrderByKota == TRUE) {                    //$Urutkan = empty($Urutkan)? "": "$Urutkan,";                    $Urutkan .= "alamat_kota, alamat_kec, alamat_kel,";                }                break;            }        case '07': { //d                if ($OrderByKota == TRUE) {                    //$Urutkan = empty($Urutkan)? "": "$Urutkan,";                    $Urutkan .= "alamat_kota, alamat_kec, alamat_kel,";                }                break;            }        case '09': { //f                if ($OrderByKota == TRUE) {                    //$Urutkan = empty($Urutkan)? "": "$Urutkan,";                    $Urutkan .= "alamat_kota, alamat_kec, alamat_kel,";                }                break;            }		case 'kibg': { //g                if ($OrderByKota == TRUE) {                    //$Urutkan = empty($Urutkan)? "": "$Urutkan,";                    $Urutkan .= "alamat_kota, alamat_kec, alamat_kel,";                }                break;            }    }    /* if(isKML){      $isPoint = TRUE;      $aqry = "select 'nam' as nama, 'tes' as desk, '107.618332,-6.90207,0' as koord ";      genKML($aqry, 'nama','desk','koord', $isPoint)	;      }else{ */	echo $Kondisi.' '. $Urutkan .' '. $LimitHal .' '. $noawal,    Viewer_Cari_GetList_($cetak, $Kondisi, $Urutkan, $LimitHal, $noawal, $cbxDlmRibu);    //}}function Viewer_Cari_GetList_($cetak = FALSE, $Kondisi='', $Urutkan='', $LimitHal='', $noawal=0, $cbxDlmRibu='') {    global $jmlData, $jmlDataKIB_A, $jmlDataKIB_B, $jmlDataKIB_C, $jmlDataKIB_D, $jmlDataKIB_E, $jmlDataKIB_F, $jmlDataKIB_G;    global $cari, $Main, $Pg, $SPg, $addPageParam, $all, $Adv;    global $tim, $Main;    global $ViewStatus;    //global $cbxDlmRibu;    //global $fmKEPEMILIKAN, $fmSKPD, $fmUNIT, $fmSUBUNIT, $fmTahunPerolehan, $kode_barang, $nm_barang, $selStatusBrg;    //global $bersertifikat, $Kondisi;    //global $asc, $cbAscDsc, $selUrut, $Urutkan;    //global $OrderByKota, $ViewStatus, $FilterKotaKosong;    //global $jmPerHal, $HalDefault, $HalKIB_A, $HalKIB_B, $HalKIB_C, $HalKIB_D, $HalKIB_E, $HalKIB_F;    //global $LimitHal, $LimitHalKIB_A, $LimitHalKIB_B, $LimitHalKIB_C, $LimitHalKIB_D, $LimitHalKIB_E, $LimitHalKIB_F;    //global $selHakPakai, $alamat, $selKabKota, $noSert, $keterangan;    //global $merk, $bahan, $noPabrik, $noRangka, $noMesin, $noPolisi, $noBPKB;    //global $konsTingkat, $konsBeton, $dokumen_no, $status_tanah, $kode_tanah, $kode_loktanah;    //global $konstruksi;    //global $buku_judul, $buku_spesifikasi, $seni_asal_daerah, $seni_pencipta, $seni_bahan, $hewan_jenis, $hewan_ukuran;    //global $bangunan;    //global $selKondisiBrg;    //"?Pg=$Pg&SPg=$SPg$addPageParam"    $clGaris = $cetak == TRUE ? "GarisCetak" : "GarisDaftar";    /*     */    //ListData --------------------------------------------------------    switch ($SPg) {        case '03': {                $sqry = "select * from view_buku_induk2 where $Kondisi order by $Urutkan a,b,c,d,e,f,g,h,i,j,tahun,noreg";                //echo "qry=$sqry $LimitHal<br> ";                $qry = mysql_query($sqry);                $jmlData = mysql_num_rows($qry);                $qry = mysql_query($sqry . ' ' . $LimitHal);                $no = $noawal; //empty($all)? $Main->PagePerHal * (($HalDefault*1) - 1) : 0; //$cari->cek .=' no='.$no;                $cb = 0;                $cari->listdata = '';                while ($isi = mysql_fetch_array($qry)) {                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    $kdStatusBrg = $isi['status_barang']; //echo "<br>kdStatusBrg=$kdStatusBrg";                    $kdKelBarang = $isi['f'] . $isi['g'] . "00";                    //$nmBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    $nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    $no++;                    $jmlTotalHargaDisplay += $isi['jml_harga'];                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $AsalUsul = $isi['asal_usul'];                    $ISI5 = "";                    $ISI6 = "";                    $ISI7 = "";                    $ISI10 = "";                    $ISI12 = $Main->KondisiBarang[$isi['kondisi'] - 1][1];                    $ISI15 = "";                    if ($isi['f'] == "01" || $isi['f'] == "02" || $isi['f'] == "03" || $isi['f'] == "04" || $isi['f'] == "05" || $isi['f'] == "06") {                        $KondisiKIB = "						where 						a1= '{$isi['a1']}' and 						a = '{$isi['a']}' and 						b = '{$isi['b']}' and 						c = '{$isi['c']}' and 						d = '{$isi['d']}' and 						e = '{$isi['e']}' and 						f = '{$isi['f']}' and 						g = '{$isi['g']}' and 						h = '{$isi['h']}' and 						i = '{$isi['i']}' and 						j = '{$isi['j']}' and 						noreg = '{$isi['noreg']}' and 						tahun = '{$isi['tahun']}' ";                    }                    if ($isi['f'] == "01") {//KIB A                        //"concat(a1,a,b,c,d,e,f,g,h,i,j,noreg,tahun)='{$isi['a1']}{$isi['a']}{$isi['b']}{$isi['c']}{$isi['d']}{$isi['e']}{$isi['f']}{$isi['g']}{$isi['h']}{$isi['i']}{$isi['j']}{$isi['noreg']}{$isi['tahun']}'                        $QryKIB_A = mysql_query("select * from kib_a  $KondisiKIB limit 0,1");                        while ($isiKIB_A = mysql_fetch_array($QryKIB_A)) {                            $ISI6 = "{$isiKIB_A['sertifikat_no']}";  //$ISI10 = "{$isiKIB_A['luas']}";                            $ISI15 = "{$isiKIB_A['ket']}";                        }                    }                    if ($isi['f'] == "02") {//KIB B;                        //"concat(a1,a,b,c,d,e,f,g,h,i,j,noreg,tahun)='{$isi['a1']}{$isi['a']}{$isi['b']}{$isi['c']}{$isi['d']}{$isi['e']}{$isi['f']}{$isi['g']}{$isi['h']}{$isi['i']}{$isi['j']}{$isi['noreg']}{$isi['tahun']}'";                        $QryKIB_B = mysql_query("select * from kib_b  $KondisiKIB limit 0,1");                        while ($isiKIB_B = mysql_fetch_array($QryKIB_B)) {                            $ISI5 = "{$isiKIB_B['merk']}";                            $ISI6 = "{$isiKIB_B['no_pabrik']} / {$isiKIB_B['no_rangka']} / {$isiKIB_B['no_mesin']}";                            $ISI7 = "{$isiKIB_B['bahan']}";                            //$ISI10 = "{$isiKIB_B['ukuran']}";                            $ISI15 = "{$isiKIB_B['ket']}";                        }                    }                    if ($isi['f'] == "03") {//KIB C;                        $QryKIB_C = mysql_query("select * from kib_c  $KondisiKIB limit 0,1");                        while ($isiKIB_C = mysql_fetch_array($QryKIB_C)) {                            $ISI6 = "{$isiKIB_C['dokumen_no']}";                            $ISI10 = $Main->Bangunan[$isiKIB_C['kondisi_bangunan'] - 1][1];                            $ISI15 = "{$isiKIB_C['ket']}";                        }                    }                    if ($isi['f'] == "04") {//KIB D;                        $QryKIB_D = mysql_query("select * from kib_d  $KondisiKIB limit 0,1");                        while ($isiKIB_D = mysql_fetch_array($QryKIB_D)) {                            $ISI6 = "{$isiKIB_D['dokumen_no']}";                            $ISI15 = "{$isiKIB_D['ket']}";                        }                    }                    if ($isi['f'] == "05") {//KIB E;                        $QryKIB_E = mysql_query("select * from kib_e  $KondisiKIB limit 0,1");                        while ($isiKIB_E = mysql_fetch_array($QryKIB_E)) {                            $ISI7 = "{$isiKIB_E['seni_bahan']}";                            $ISI15 = "{$isiKIB_E['ket']}";                        }                    }                    if ($isi['f'] == "06") {//KIB F;                        $sQryKIB_F = "select * from kib_f  $KondisiKIB limit 0,1";                        $QryKIB_F = mysql_query($sQryKIB_F);                        //echo "<br>qrykibf= $sQryKIB_F";                        while ($isiKIB_F = mysql_fetch_array($QryKIB_F)) {                            $ISI6 = "{$isiKIB_F['dokumen_no']}";                            $ISI10 = $Main->Bangunan[$isiKIB_F['bangunan'] - 1][1];                            $ISI15 = "{$isiKIB_F['ket']}";                        }                    }                    $ISI5 = !empty($ISI5) ? $ISI5 : "-";                    $ISI6 = !empty($ISI6) ? $ISI6 : "-";                    $ISI7 = !empty($ISI7) ? $ISI7 : "-";                    $ISI10 = !empty($ISI10) ? $ISI10 : "-";                    $ISI12 = !empty($ISI12) ? $ISI12 : "-";                    $ISI15 = !empty($ISI15) ? $ISI15 : "-";                    //{$nmBarang['nm_barang']}                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['id']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class=\"$clRow\" id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "'					>					<td class=\"$clGaris\" align=center>						<!--<div style='position:relative;'>						<div style='position:absolute;float:left;left:0;top:-40;width:30;height:20; 							border-color: #E0E0E0;border-style: solid;border-width: 1px; '></div>						$no.</div>-->						$no.											</td>					$tampilCekList					<!--<td class=\"$clGaris\" align=center><input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['id']}\" onClick=\"isChecked(this.checked);\" /></td>-->					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 						title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}												</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>					<!--det-->					<td class=\"$clGaris\">$ISI5</td>					<td class=\"$clGaris\">$ISI6</td>					<td class=\"$clGaris\">$ISI7</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$AsalUsul - 1][1] . "</td>					<td class=\"$clGaris\">$ISI10</td>					<td class=\"$clGaris\">$ISI12</td>					<td class=\"$clGaris\">$ISI15</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "        			</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/				//$str = "select sum(jml_harga) as total  from buku_induk where $Kondisi "; echo $str;				$str = "select sum(jml_harga) as total  from view_buku_induk2 where $Kondisi ";                $jmlTotalHarga = mysql_query($str);                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHargaDisplay / 1000), 2, ',', '.') : number_format(($jmlTotalHargaDisplay), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0' >					<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga per Halaman " . (!empty($cbxDlmRibu) ? '(Ribuan)' : '' ) . "</td>					<td class=\"$clGaris\" align=right ><b>" . $tampilTotalHal . "</td>					<td colspan='" . ( $ViewStatus == TRUE ? "12" : "7" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>					<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya " . (!empty($cbxDlmRibu) ? '(Ribuan)' : '' ) . "</td>					<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>					<td colspan='" . ( $ViewStatus == TRUE ? "12" : "7" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 16 : 11;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" :                        "<tr>					<td colspan='$jmCol' align='center' height='50'>" . Halaman($jmlData, $Main->PagePerHal, "HalDefault", "?Pg=$Pg&SPg=$SPg$addPageParam") . "</td>				</tr>				";                break;            }        case '04': {                $sqry = "select * from view_kib_a2 where $Kondisi order by $Urutkan a1,a,b,c,d,e,f,g,h,i,j,tahun,noreg ";                //echo "qry=$sqry $LimitHal<br> ";                //$Qry = mysql_query($sqry);                $jmlDataKIB_A = table_get_value("select count(*) as cnt from view_kib_a2 where $Kondisi ", 'cnt'); //mysql_num_rows($Qry);                $jmlData = $jmlDataKIB_A;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //empty($all)? $Main->PagePerHal * (($HalKIB_A*1) - 1): 0;                $cb = 0;                $jmlTampilKIB_A = 0;                $JmlTotalHargaListKIB_A = 0;                $ListBarangKIB_A = "";                $cari->listdata = '';                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_A++;                    $JmlTotalHargaListKIB_A += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    $kdKelBarang = $isi['f'] . $isi['g'] . "00";                    $nmBarang = $isi['nm_barang']; //mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    //$nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    //$nmkota = mysql_fetch_array(mysql_query("select nm_wilayah from ref_wilayah where a ='".$isi['alamat_a']."' and b='".$isi['alamat_b']."' "));                    $tampilKec = empty($isi['alamat_kec']) ? "" : "<br>Kec. {$isi['alamat_kec']}";                    $tampilKel = empty($isi['alamat_kel']) ? "" : "<br>Kel. {$isi['alamat_kel']}";                    $tampilAlamat =                            "<td class=\"$clGaris\" style='width:100'>{$isi['alamat']}$tampilKel$tampilKec<br>{$isi['alamat_kota']}</td>";                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    //$tampilStatus = $ViewStatus != TRUE? "": "<td class=\"$clGaris\">tesstatus</td>";                    //$tampilStatus = Viewer_Cari_TampilStatus($isi, $cetak);                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no</td>					$tampilCekList										<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 							title='Klik untuk lihat detail " . $isi['nm_barang'] . " '>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}									</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>								<td class=\"$clGaris\" align=right>" . number_format($isi['luas'], 2, ',', '.') . "</td>					<!--<td class=\"$clGaris\">{$isi['alamat']}<br>{$nmkota['nm_wilayah']}</td>-->					$tampilAlamat					<td class=\"$clGaris\">" . $Main->StatusHakPakai[$isi['status_hak'] - 1][1] . "</td>					<td class=\"$clGaris\">" . ( $isi['sertifikat_tgl'] == '' || $isi['sertifikat_tgl'] == '0000-00-00' ? "" : TglInd($isi['sertifikat_tgl']) ) . "</td>					<td class=\"$clGaris\">{$isi['sertifikat_no']}</td>					<td class=\"$clGaris\">{$isi['penggunaan']}</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$isi['asal_usul'] - 1][1] . "</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_a2 where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_A / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_A), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>					<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga per Halaman (Ribuan)</td>					<td class=\"$clGaris\" align=right ><b>" . $tampilTotalHal . "</td>					<td colspan='" . ( $ViewStatus == TRUE ? "13" : "8" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>					<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>					<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>					<td colspan='" . ( $ViewStatus == TRUE ? "13" : "8" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 19 : 14;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" :                        "<tr>				<td colspan='$jmCol' align='center' height='50'>" . 					Halaman(						$jmlDataKIB_A, 						$Main->PagePerHal, 						"HalKIB_A", "?Pg=$Pg&SPg=$SPg$addPageParam"					) . 				"</td>				</tr>				";                break;            }        case '05': {                $sqry = "select * from view_kib_b2 where $Kondisi order by $Urutkan a1,a,b,c,d,e,f,g,h,i,j,tahun,noreg ";                //echo '<br> qry='.$sqry.' '.$LimitHalKIB_B;                //$Qry = mysql_query($sqry);                //$stim = time()-$tim; $tim =time(); echo "<br>before jmldata $stim";				$aqry = "select count(id) as cnt from view_kib_b2 where $Kondisi "; //echo $aqry;                $jmlDataKIB_B = table_get_value($aqry, 'cnt'); //mysql_num_rows($Qry);                //$stim = time()-$tim; $tim =time(); echo "<br>after jmldata $stim";                $jmlData = $jmlDataKIB_B;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //$Main->PagePerHal * (($HalKIB_B*1) - 1);                $cb = 0;                $jmlTampilKIB_B = 0;                $JmlTotalHargaListKIB_B = 0;                $ListBarangKIB_B = "";                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_B++;                    $JmlTotalHargaListKIB_B += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    //$kdKelBarang = $isi['f'].$isi['g']."00";                    $nmBarang = $isi['nm_barang']; //mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    //$nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    //<A target=_self class='abarang' HREF=\"javascript:getdat2('".$isi['a1'].$isi['a'].$isi['b'].$isi['c'].$isi['d'].$isi['e'] .$isi['f'].$isi['g'].$isi['h'].$isi['i'].$isi['j'].$isi['noreg']."')\" title='Klik untuk lihat detail {$nmBarang['nm_barang']}'>                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no</td>								$tampilCekList					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 						title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}									</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>											<td class=\"$clGaris\" >{$isi['merk']}</td>					<td class=\"$clGaris\">{$isi['ukuran']}</td>					<td class=\"$clGaris\" >{$isi['bahan']}</td>					<td class=\"$clGaris\">{$isi['no_pabrik']}</td>					<td class=\"$clGaris\">{$isi['no_rangka']}</td>					<td class=\"$clGaris\">{$isi['no_mesin']}</td>					<td class=\"$clGaris\">{$isi['no_polisi']}</td>					<td class=\"$clGaris\">{$isi['no_bpkb']}</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$isi['asal_usul'] - 1][1] . "</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    //$stim = time()-$tim; $tim =time(); echo "<br>list $cb $stim";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_b2 where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_B / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_B), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>				<td colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' class=\"$clGaris\">Total Harga per Halaman (Ribuan)</td>				<td align=right class=\"$clGaris\"><b>" . $tampilTotalHal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "15" : "10" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>				<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>				<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "15" : "10" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 20 : 15;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" : "				<tr>				<td colspan='$jmCol' align=center>" . 					Halaman(						$jmlDataKIB_B, 						$Main->PagePerHal, 						"HalKIB_B", 						"?Pg=$Pg&SPg=$SPg$addPageParam"					). 				"</td>				</tr>			";                break;            }        case '06': {                $sqry = "select * from view_kib_c2 where $Kondisi order by $Urutkan a1,a,b,c,d,e,f,g,h,i,j,tahun,noreg "; //echo "sqry=$sqry<br>";                //$cari->cek .= '<br> qry='.$sqry.' '.$LimitHalKIB_C;                //$Qry = mysql_query($sqry);                $jmlDataKIB_C = table_get_value("select count(*) as cnt from view_kib_c2 where $Kondisi ", 'cnt'); //mysql_num_rows($Qry);                $jmlData = $jmlDataKIB_C;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //$Main->PagePerHal * (($HalKIB_C*1) - 1);                $cb = 0;                $jmlTampilKIB_C = 0;                $JmlTotalHargaListKIB_C = 0;                $ListBarangKIB_C = "";                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_C++;                    $JmlTotalHargaListKIB_C += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    $kdKelBarang = $isi['f'] . $isi['g'] . "00";                    $nmBarang = $isi['nm_barang']; //mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    //$nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    //$nmkota = mysql_fetch_array(mysql_query("select nm_wilayah from ref_wilayah where a ='".$isi['alamat_a']."' and b='".$isi['alamat_b']."' "));                    $tampilKec = empty($isi['alamat_kec']) ? "" : "<br>Kec. {$isi['alamat_kec']}";                    $tampilKel = empty($isi['alamat_kel']) ? "" : "<br>Kel. {$isi['alamat_kel']}";                    $tampilAlamat =                            "<td class=\"$clGaris\" style='width:100'>{$isi['alamat']}$tampilKel$tampilKec<br>{$isi['alamat_kota']}</td>";                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    //$tampilStatus = "";                    $tampilKodeTanah = substr($isi['kode_tanah'], 0, 18) . "<BR>" . substr($isi['kode_tanah'], 18, 14);                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no.</td>					$tampilCekList					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 						title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}									</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>					<!--det-->								<td class=\"$clGaris\">" . $Main->kondisi_bangunan[$isi['kondisi_bangunan'] - 1][1] . "</td>					<td class=\"$clGaris\">" . $Main->Tingkat[$isi['konstruksi_tingkat'] - 1][1] . "</td>					<td class=\"$clGaris\">" . $Main->Beton [$isi['konstruksi_beton'] - 1][1] . "</td>					<td class=\"$clGaris\" align=center>" . number_format($isi['luas_lantai'], 2, ',', '.') . "</td>					<!--<td class=\"$clGaris\" >{$isi['alamat']}<br>{$nmkota['nm_wilayah']}</td>-->					$tampilAlamat					<td class=\"$clGaris\" align=center  style='width:75'>" . ( $isi['dokumen_tgl'] == '' || $isi['dokumen_tgl'] == '0000-00-00' ? "" : TglInd($isi['dokumen_tgl']) ) . "</td>					<td class=\"$clGaris\">{$isi['dokumen_no']}</td>					<td class=\"$clGaris\" align=center>" . number_format($isi['luas'] / 1000, 2, ',', '.') . "</td>					<td class=\"$clGaris\">" . $Main->StatusTanah[$isi['status_tanah'] - 1][1] . "</td>					<td class=\"$clGaris\" align=center >{$tampilKodeTanah}</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$isi['asal_usul'] - 1][1] . "</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_c2 where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_C / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_C), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>				<td colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' class=\"$clGaris\">Total Harga per Halaman (Ribuan)</td>				<td align=right class=\"$clGaris\"><b>" . $tampilTotalHal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "17" : "12" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>				<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>				<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "17" : "12" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 21 : 16;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" : "				<tr>				<td colspan='$jmCol' align='center' height='50'>" . Halaman($jmlDataKIB_C, $Main->PagePerHal, "HalKIB_C", "?Pg=$Pg&SPg=$SPg$addPageParam") . "</td>				</tr>			";                break;            }        case '07': {                $sqry = "select * from view_kib_d2 where $Kondisi order by $Urutkan a1,a,b,c,d,e,f,g,h,i,j,tahun,noreg ";                //$cari->cek .= '<br> qry='.$sqry.' '.$LimitHalKIB_D;                //$Qry = mysql_query($sqry);                $jmlDataKIB_D = table_get_value("select count(*) as cnt from view_kib_d2 where $Kondisi ", 'cnt'); //mysql_num_rows($Qry);                $jmlData = $jmlDataKIB_D;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //$Main->PagePerHal * (($HalKIB_D*1) - 1);                $cb = 0;                $jmlTampilKIB_D = 0;                $JmlTotalHargaListKIB_D = 0;                $ListBarangKIB_D = "";                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_D++;                    $JmlTotalHargaListKIB_D += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    $kdKelBarang = $isi['f'] . $isi['g'] . "00";                    $nmBarang = $isi['nm_barang']; //mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    //$nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    //$nmkota = $isi['alamat_kota'];//mysql_fetch_array(mysql_query("select nm_wilayah from ref_wilayah where a ='".$isi['alamat_a']."' and b='".$isi['alamat_b']."' "));                    $tampilKec = empty($isi['alamat_kec']) ? "" : "<br>Kec. {$isi['alamat_kec']}";                    $tampilKel = empty($isi['alamat_kel']) ? "" : "<br>Kel. {$isi['alamat_kel']}";                    $tampilAlamat =                            "<td class=\"$clGaris\" style='width:100'>{$isi['alamat']}$tampilKel$tampilKec<br>{$isi['alamat_kota']}</td>";                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no.</td>					$tampilCekList					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 						title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}									</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']} /<br>" .                            $tampilHarga . "					</td>					<!--det-->								<td class=\"$clGaris\" style='width:50'>{$isi['konstruksi']}</td>						<td class=\"$clGaris\" style='width:50' align=center>" . number_format($isi['panjang'], 2, ',', '.') . "</td>					<td class=\"$clGaris\" style='width:50' align=center>" . number_format($isi['lebar'], 2, ',', '.') . "</td>					<td class=\"$clGaris\" style='width:50' align=center>" . number_format($isi['luas'], 2, ',', '.') . "</td>										$tampilAlamat 					<td class=\"$clGaris\" align=center style='width:70'>" . ( $isi['dokumen_tgl'] == '' || $isi['dokumen_tgl'] == '0000-00-00' ? "" : TglInd($isi['dokumen_tgl']) ) . "</td>					<td class=\"$clGaris\">{$isi['dokumen_no']}</td>					<td class=\"$clGaris\" style='width:50' align=center>" . $Main->StatusTanah[$isi['status_tanah'] - 1][1] . "</td>					<td class=\"$clGaris\" style='width:50' align=center>{$isi['kode_tanah']}</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$isi['asal_usul'] - 1][1] . "</td>					<td class=\"$clGaris\" style='width:50'>" . $Main->KondisiBarang[$isi['kondisi_bi'] - 1][1] . "</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_d2 where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_D / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_D), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>				<td colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' class=\"$clGaris\">Total Harga per Halaman (Ribuan)</td>				<td align=right class=\"$clGaris\"><b>" . $tampilTotalHal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "17" : "12" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>				<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>				<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "17" : "12" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 21 : 16;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" : "				<tr>				<td colspan='$jmCol' align='center' height='50'>" . Halaman($jmlDataKIB_D, $Main->PagePerHal, "HalKIB_D", "?Pg=$Pg&SPg=$SPg$addPageParam") . "</td>				</tr>			";                break;            }        case '08': {                $sqry = "select * from view_kib_e2 where $Kondisi order by $Urutkan a1,a,b,c,d,e,f,g,h,i,j,tahun,noreg ";                //echo "qry= $sqry $LimitHalKIB_E<br>";                //$Qry = mysql_query($sqry);                $jmlDataKIB_E = table_get_value("select count(*) as cnt from view_kib_e2 where $Kondisi ", 'cnt'); //mysql_num_rows($Qry);                $jmlData = $jmlDataKIB_E;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //$Main->PagePerHal * (($HalKIB_E*1) - 1);                $cb = 0;                $jmlTampilKIB_E = 0;                $JmlTotalHargaListKIB_B = 0;                $ListBarangKIB_E = "";                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_E++;                    $JmlTotalHargaListKIB_E += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    //$kdKelBarang = $isi['f'].$isi['g']."00";                    $nmBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    //$nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    //<A target=_self class='abarang' HREF=\"javascript:getdat2('".$isi['a1'].$isi['a'].$isi['b'].$isi['c'].$isi['d'].$isi['e'] .$isi['f'].$isi['g'].$isi['h'].$isi['i'].$isi['j'].$isi['noreg']."')\" title='Klik untuk lihat detail {$nmBarang['nm_barang']}'>                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no</td>					$tampilCekList					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 						title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}						</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>					<!--det-->								<td class=\"$clGaris\" style='width:50'>{$isi['buku_judul']}</td>					<td class=\"$clGaris\" style='width:50'>{$isi['buku_spesifikasi']}</td>					<td class=\"$clGaris\" style='width:50'>{$isi['seni_asal_daerah']}</td>					<td class=\"$clGaris\" style='width:50'>{$isi['seni_pencipta']}</td>					<td class=\"$clGaris\" style='width:50'>{$isi['seni_bahan']}</td>					<td class=\"$clGaris\" style='width:50'>{$isi['hewan_jenis']}</td>					<td class=\"$clGaris\" style='width:50'>{$isi['hewan_ukuran']}</td>					<td class=\"$clGaris\" style='width:50' align=center>{$isi['jml_barang']}</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$isi['asal_usul'] - 1][1] . "</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_e2 where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_E / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_E), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>				<td colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' class=\"$clGaris\">Total Harga per Halaman (Ribuan)</td>				<td align=right class=\"$clGaris\"><b>" . $tampilTotalHal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "15" : "10" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>				<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>				<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "15" : "10" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 19 : 15;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" : "				<tr>				<td colspan='$jmCol' align=center>" . Halaman($jmlDataKIB_E, $Main->PagePerHal, "HalKIB_E", "?Pg=$Pg&SPg=$SPg$addPageParam") . "</td>				</tr>			";                break;            }        case '09': {                $sqry = "select * from view_kib_f2 where $Kondisi order by $Urutkan a1,a,b,c,d,e,f,g,h,i,j,tahun,noreg ";                //echo '<br> qry='.$sqry.' '.$LimitHalKIB_F;                //$Qry = mysql_query($sqry);                $jmlDataKIB_F = table_get_value("select count(*) as cnt from view_kib_f2 where $Kondisi ", 'cnt'); //mysql_num_rows($Qry);                $jmlData = $jmlDataKIB_F;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //$Main->PagePerHal * (($HalKIB_F*1) - 1);                $cb = 0;                $jmlTampilKIB_F = 0;                $JmlTotalHargaListKIB_F = 0;                $ListBarangKIB_F = "";                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_F++;                    $JmlTotalHargaListKIB_F += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                    //$kdKelBarang = $isi['f'].$isi['g']."00";                    $nmBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    //$nmKelBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h)='$kdKelBarang'"));                    //$nmkota = mysql_fetch_array(mysql_query("select nm_wilayah from ref_wilayah where a ='".$isi['alamat_a']."' and b='".$isi['alamat_b']."' "));                    //<A target=_self class='abarang' HREF=\"javascript:getdat2('".$isi['a1'].$isi['a'].$isi['b'].$isi['c'].$isi['d'].$isi['e'] .$isi['f'].$isi['g'].$isi['h'].$isi['i'].$isi['j'].$isi['noreg']."')\" title='Klik untuk lihat detail {$nmBarang['nm_barang']}'>                    $tampilKec = empty($isi['alamat_kec']) ? "" : "<br>Kec. {$isi['alamat_kec']}";                    $tampilKel = empty($isi['alamat_kel']) ? "" : "<br>Kel. {$isi['alamat_kel']}";                    $tampilAlamat =                            "<td class=\"$clGaris\" style='width:100'>{$isi['alamat']}$tampilKel$tampilKec<br>{$isi['alamat_kota']}</td>";                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] . $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no</td>								$tampilCekList					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 							title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>							{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>							{$isi['nm_barang']}									</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>											<td class=\"$clGaris\" style='width:50' align=left>" . $Main->Bangunan[$isi['bangunan'] - 1][1] . "</td>					<td class=\"$clGaris\" style='width:50' align=left>" . $Main->Tingkat[$isi['konstruksi_tingkat'] - 1][1] . "</td>					<td class=\"$clGaris\" style='width:50' align=left>" . $Main->Beton[$isi['konstruksi_beton'] - 1][1] . "</td>					<td class=\"$clGaris\" style='width:50' align=center>" . number_format($isi['luas'], 2, ',', '.') . "</td>					$tampilAlamat					<td class=\"$clGaris\" style='width:80' align=center>" . ( $isi['dokumen_tgl'] == '' || $isi['dokumen_tgl'] == '0000-00-00' ? "" : TglInd($isi['dokumen_tgl']) ) . "</td>					<td class=\"$clGaris\" style='width:50'>{$isi['dokumen_no']}</td>					<td class=\"$clGaris\" style='width:80' align=center>" . ( $isi['tmt'] == '' || $isi['tmt'] == '0000-00-00' ? "" : TglInd($isi['tmt'])) . "</td>					<td class=\"$clGaris\" style='width:50' align=center>" . $Main->StatusTanah[$isi['status_tanah'] - 1][1] . "</td>					<td class=\"$clGaris\" style='width:50' align=center>{$isi['kode_tanah']}</td>					<td class=\"$clGaris\">" . $Main->AsalUsul[$isi['asal_usul'] - 1][1] . "</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_f2 where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_F / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_F), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>				<td colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' class=\"$clGaris\">Total Harga per Halaman (Ribuan)</td>				<td align=right class=\"$clGaris\"><b>" . $tampilTotalHal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "17" : "12" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>				<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>				<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "17" : "12" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 21 : 16;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" : "				<tr>				<td colspan='$jmCol' align=center>tes" . Halaman($jmlDataKIB_F, $Main->PagePerHal, "HalKIB_F", "?Pg=$Pg&SPg=$SPg$addPageParam") . "</td>				</tr>			";                break;            }    	case 'kibg':{			$sqry = "select * from view_kib_g where $Kondisi order by $Urutkan a1,a,b,c,d,e,e1,f,g,h,i,j,tahun,noreg ";                //echo "qry= $sqry $LimitHalKIB_E<br>";                //$Qry = mysql_query($sqry);                $jmlDataKIB_G = table_get_value("select count(*) as cnt from view_kib_g where $Kondisi ", 'cnt'); //mysql_num_rows($Qry);                $jmlData = $jmlDataKIB_G;                $Qry = mysql_query($sqry . "  " . $LimitHal);                $no = $noawal; //$Main->PagePerHal * (($HalKIB_E*1) - 1);                $cb = 0;                $jmlTampilKIB_G = 0;                $JmlTotalHargaListKIB_G = 0;                $ListBarangKIB_G = "";                while ($isi = mysql_fetch_array($Qry)) {                    $jmlTampilKIB_G++;                    $JmlTotalHargaListKIB_G += $isi['jml_harga'];                    $no++;                    $clRow = $no % 2 == 0 ? "row1" : "row0";                    $kdStatusBrg = $isi['status_barang'];                    $kdBarang = $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'];                                        $nmBarang = mysql_fetch_array(mysql_query("select * from ref_barang where concat(f,g,h,i,j)='$kdBarang'"));                    $tampilHarga = !empty($cbxDlmRibu) ? number_format($isi['jml_harga'] / 1000, 2, ',', '.') : number_format($isi['jml_harga'], 2, ',', '.');                    if ($Adv == 1 && $cetak == FALSE) {                        $tampilCekList = "<td class=\"$clGaris\" align=center>";                        $tampilCekList .= $kdStatusBrg == 3 ? "" : "<input type=\"checkbox\" $Checked  id=\"cb$cb\" name=\"cidBI[]\" value=\"{$isi['idbi']}\" onClick=\"isChecked(this.checked);\" />";                        $tampilCekList .= '</td>';                    }                    $cari->listdata .= "					<tr class='$clRow' id='" . $isi['a1'] . $isi['a'] . $isi['b'] . $isi['c'] . $isi['d'] . $isi['e'] .$isi['e1'].  $isi['f'] . $isi['g'] . $isi['h'] . $isi['i'] . $isi['j'] . $isi['tahun'] . $isi['noreg'] . "' >					<td class=\"$clGaris\" align=center>$no</td>					$tampilCekList					<td class=\"$clGaris\" align=center onclick='getdat(event)' style = 'cursor:pointer' 						title='Klik untuk lihat detail " . $isi['nm_barang'] . "'>						{$isi['f']}.{$isi['g']}.{$isi['h']}.{$isi['i']}.{$isi['j']}.{$isi['noreg']}<br>						{$isi['nm_barang']}						</td>											<td class=\"$clGaris\">{$isi['nmbidang']}<br> / {$isi['nmopd']}<br> / {$isi['nmunit']}</td>					<td class=\"$clGaris\" align=center>{$isi['thn_perolehan']}<br> / " .                            $tampilHarga . "					</td>					<!--det-->								<td class=\"$clGaris\" style='width:50'>{$isi['uraian']}</td>					<td class=\"$clGaris\">{$isi['ket']}</td>					" . Viewer_Cari_TampilStatus($isi, $cetak) . "					</tr>				";                    if ($kdStatusBrg != 3) {                        $cb++;                    }                }                //-------- cari total harga ---------/                $jmlTotalHarga = mysql_query("select sum(jml_harga) as total  from view_kib_g where $Kondisi ");                if ($jmlTotalHarga = mysql_fetch_array($jmlTotalHarga)) {                    $jmlTotalHarga = $jmlTotalHarga[0];                } else {                    $jmlTotalHarga = 0;                }                $tampilTotalHal = !empty($cbxDlmRibu) ? number_format(($JmlTotalHargaListKIB_G / 1000), 2, ',', '.') : number_format(($JmlTotalHargaListKIB_G), 2, ',', '.');                $tampilTotal = !empty($cbxDlmRibu) ? number_format(($jmlTotalHarga / 1000), 2, ',', '.') : number_format(($jmlTotalHarga), 2, ',', '.');                $cari->totalharga = "				<tr class='row0'>				<td colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' class=\"$clGaris\">Total Harga per Halaman (Ribuan)</td>				<td align=right class=\"$clGaris\"><b>" . $tampilTotalHal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "15" : "10" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>				<tr class='row0'>				<td class=\"$clGaris\" colspan='" . ($Adv == 1 && $cetak == FALSE ? "4" : "3") . "' >Total Harga Seluruhnya (Ribuan)</td>				<td class=\"$clGaris\" align=right><b>" . $tampilTotal . "</td>				<td colspan='" . ( $ViewStatus == TRUE ? "15" : "10" ) . "' class=\"$clGaris\">&nbsp;</td>				</tr>			";                //------- tampil halaman ---------                $jmCol = $ViewStatus == TRUE ? 19 : 15;                $jmCol += $Adv == 1 ? 1 : 0;                $cari->footer = $cetak == TRUE ? "" : "				<tr>				<td colspan='$jmCol' align=center>" . Halaman($jmlDataKIB_G, $Main->PagePerHal, "HalKIB_G", "?Pg=$Pg&SPg=$SPg$addPageParam") . "</td>				</tr>			";                break;					}	}    //echo "qry=$sqry";    //Header ----------------------------------------------------------    $tampilHeaderHarga = !empty($cbxDlmRibu) ? 'Harga<br> Perolehan <br> (ribuan)' : 'Harga<br> Perolehan';    switch ($SPg) {        case '03': {                //$tampilHeaderStatus = $ViewStatus != TRUE? "": ' <th class="th01"  style="width:60" >Stat</th>';                $tampilHeaderStatus = $ViewStatus != TRUE ? "" : '				<th class="th01"  style="width:10" >G</th>				<th class="th01"  style="width:10" >S</th>				<th class="th01"  style="width:10" >K</th>				<th class="th01"  style="width:10" >Tanggal Sensus</th>				<th class="th01"  style="width:10" >Tanggal Update</th>';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" width="20"><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '				<!--header -->				<tr>				<th class="th01" width="40">No.</th>					' . $tamplCekListHeader . '							<th class="th01" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" width="250">Bidang / OPD / Unit</th>				<th class="th01" width="100">Tahun / ' . $tampilHeaderHarga . ' </th>				<!--BI-->				<th class="th01" width="100">Merk / Tipe</th>				<th class="th01" width="100">No. Sertifikat /<br> No. Pabrik /<br> No. Chasis /<br> No. Mesin</th>				<th class="th01" width="100">Bahan</th>				<th class="th01" width="100">Asal Usul /<br> Cara Perolehan Barang</th>				<th class="th01" width="100">Ukuran Barang /<br> Konstruksi<br> (P,SP,D)</th>				<th class="th01" width="100">Keadaan <br>Barang<br> (B,KB,RB)</th> 				<th class="th01" width="100">Keterangan</th> 				' . $tampilHeaderStatus . '				</tr>';                break;            }        case '04': {                $tampilHeaderStatus = $ViewStatus != TRUE ? "" :                        ' <th class="th01" rowspan="3"  style="width:10">G</th>				<th class="th01"  rowspan="3" style="width:10" >S</th>				<th class="th01" rowspan="3" style="width:10" >K</th>				<th class="th01" rowspan="3" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="3" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=3 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '	<!--header -->				<tr>				<th class="th01" rowspan="3" width="40">No.</th>					' . $tamplCekListHeader . '				<th class="th01" rowspan="3" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" rowspan="3" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="3" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<th class="th01" rowspan="3" >Luas (M2)</th>				<th class="th01" rowspan="3" style="width:150">Letak / Alamat</th>				<th class="th02" colspan="3" >Status Tanah</th>				<th class="th01" rowspan="3" >Penggunaan</th>				<th class="th01" rowspan="3" >Asal-Usul</th> 				<th class="th01" rowspan="3" width="100" >Keterangan</th>				' . $tampilHeaderStatus . '				</tr>				<tr class="koptable">								<th class="th01" rowspan="2">Hak</th>				<th class="th02" colspan="2">Sertifikat</th>				</tr>				<tr>				<th class="th01" style="width:55">Tanggal</th>				<th class="th01" style="width:75">Nomor</th>				</tr>';                break;            }        case '05': {                $tampilHeaderStatus = $ViewStatus != TRUE ? "" :                        ' <th class="th01" rowspan="2" style="width:10">G</th>				<th class="th01"  rowspan="2" style="width:10" >S</th>				<th class="th01" rowspan="2" style="width:10" >K</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=2 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '				<!--header -->				<tr>				<th class="th01" rowspan="2" width="40">No.</th>					' . $tamplCekListHeader . '				<th class="th01" rowspan="2" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" rowspan="2" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="2" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<!--det-->					<th class="th01" rowspan="2" style="width:200">Merk/Type</th>				<th class="th01" rowspan="2">Ukuran/CC</th>				<th class="th01" rowspan="2">Bahan</th>								<th class="th02" colspan="5">N o m o r</th>				<th class="th01" rowspan="2">Asal-Usul</th>								<th class="th01" rowspan="2">Keterangan</th>				' . $tampilHeaderStatus . '				</tr>				<tr>				<th class="th01">Pabrik</th>				<th class="th01">Rangka</th>				<th class="th01">Mesin</th>				<th class="th01">Polisi</th>				<th class="th01">BPKB</th>				</tr>				';                break;            }        case '06': {                $tampilHeaderStatus = $ViewStatus != TRUE ? "" :                        '<th class="th01" rowspan="2" style="width:10">G</th>				<th class="th01"  rowspan="2" style="width:10" >S</th>				<th class="th01" rowspan="2" style="width:10" >K</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=2 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '				<!--header -->				<tr>				<th class="th01" rowspan="2" width="40">No.</th>					' . $tamplCekListHeader . '				<th class="th01" rowspan="2" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" rowspan="2" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="2" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<!--BI-->								<th class="th01" rowspan="2">Kondisi Bangunan (B, KB, RB)</th>				<th class="th02" colspan="2">Konstruksi Bangunan</th>				<th class="th01" rowspan="2">Luas Lantai (M2)</th>				<th class="th01" rowspan="2" style="width:150">Letak / Alamat</th>				<th class="th02" colspan="2">Dokumen Gedung</th>				<th class="th01" rowspan="2">Luas Tanah (M2)</th>				<th class="th01" rowspan="2">Status Tanah</th>				<th class="th01" rowspan="2" style="width:70">Nomor Kode Tanah</th>				<th class="th01" rowspan="2">Asal Usul</th>								<th class="th01" rowspan="2">Ket</th>				' . $tampilHeaderStatus . '				</tr>				<tr>				<th class="th01">Bertingkat/ Tidak</th>				<th class="th01">Beton/ Tidak</th>				<th class="th01" >Tanggal</th>				<th class="th01">Nomor</th>								</tr>									';                break;            }        case '07': {                $tampilHeaderStatus = $ViewStatus != TRUE ? "" :                        '<th class="th01" rowspan="2" style="width:10">G</th>				<th class="th01"  rowspan="2" style="width:10" >S</th>				<th class="th01" rowspan="2" style="width:10" >K</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=2 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '			<!--header -->			<tr>				<th class="th01" rowspan="2" width="40">No.</th>					' . $tamplCekListHeader . '				<th class="th01" rowspan="2" width="250">Kode / No Reg <br> Nama Barang<br>Jenis</th>				<th class="th01" rowspan="2" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="2" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<!--BI-->								<th class="th01" rowspan="2" style="width:50">Konstruksi</th>				<th class="th01" rowspan="2" style="width:50">Panjang (km)</th>				<th class="th01" rowspan="2" style="width:50">Lebar (M)</th>				<th class="th01" rowspan="2" style="width:50">Luas  (M2)</th>				<th class="th01" rowspan="2" style="width:150">Letak / Alamat</th>				<th class="th02" colspan="2">Dokumen</th>				<th class="th01" rowspan="2">Status Tanah</th>				<th class="th01" rowspan="2">Nomor Kode Tanah</th>				<th class="th01" rowspan="2">Asal Usul</th>				<th class="th01" rowspan="2" style="width:50">Kondisi (B,KB,RB)</th>				<th class="th01" rowspan="2">Ket</th>				' . $tampilHeaderStatus . '			</tr>			<tr>				<th class="th01" style="width:70">Tanggal</th>				<th class="th01">Nomor</th>			</tr>					';                break;            }        case '08': {                $tampilHeaderStatus = $ViewStatus != TRUE ? "" :                        '<th class="th01" rowspan="2" style="width:10">G</th>				<th class="th01"  rowspan="2" style="width:10" >S</th>				<th class="th01" rowspan="2" style="width:10" >K</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=2 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '			<!--header -->			<tr>				<th class="th01" rowspan="2" width="40">No.</th>					' . $tamplCekListHeader . '				<th class="th01" rowspan="2" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" rowspan="2" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="2" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<!--det-->					<th class="th02" colspan="2">Buku Perpustakaan</th>				<th class="th02" colspan="3">Barang Bercorak Kesenian / Kebudayaan</th>				<th class="th02" colspan="2">Hewan Ternak</th>				<th class="th01" rowspan="2" style="width:50">Jumlah</th>								<th class="th01" rowspan="2">Asal Usul</th>								<th class="th01" rowspan="2">Ket.</th>				' . $tampilHeaderStatus . '			</tr>			<tr>				<th class="th01" style="width:100">Judul / Pencipta</th>				<th class="th01" style="width:50">Spesifikasi</th>				<th class="th01" style="width:50">Asal Daerah</th>				<th class="th01" style="width:50">Pencipta</th>				<th class="th01" style="width:50">Bahan</th>				<th class="th01" style="width:50">Jenis</th>				<th class="th01" style="width:50">Ukuran</th>			</tr>			';                break;            }        case '09': {                $tampilHeaderStatus = $ViewStatus != TRUE ? "" :                        '<th class="th01" rowspan="2" style="width:10">G</th>				<th class="th01"  rowspan="2" style="width:10" >S</th>				<th class="th01" rowspan="2" style="width:10" >K</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="2" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=2 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';                $cari->header = '			<!--header -->			<tr>				<th class="th01" rowspan="2" width="40">No.</th>				' . $tamplCekListHeader . '				<th class="th01" rowspan="2" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" rowspan="2" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="2" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<!--det-->					<th class="th01" rowspan="2" style="width:50">Bangunan(P,SP,D)</th>				<th class="th02" colspan="2">Konstruksi Bangunan</th>				<th class="th01" rowspan="2" style="width:50">Luas (m2)</th>				<th class="th01" rowspan="2" style="width:150">Letak / Alamat</th>				<th class="th02" colspan="2">Dokumen</th>				<th class="th01" rowspan="2" style="width:80">Tanggal Mulai</th>				<th class="th01" rowspan="2" style="width:50">Status Tanah</th>				<th class="th01" rowspan="2" style="width:50">Kode Tanah</th>				<th class="th01" rowspan="2" style="width:50">Asal Usul</th>								<th class="th01" rowspan="2">Ket</th>				' . $tampilHeaderStatus . '			</tr>			<tr>				<th class="th01" style="width:50">Bertingkat/ Tidak</th>				<th class="th01" style="width:50">Beton/ Tidak</th>				<th class="th01" style="width:80">Tanggal</th>				<th class="th01" style="width:50">Nomor</th>			</tr>			';                break;            }		case 'kibg': {        	$tampilHeaderStatus = $ViewStatus != TRUE ? "" :                '<th class="th01" rowspan="1" style="width:10">G</th>				<th class="th01"  rowspan="1" style="width:10" >S</th>				<th class="th01" rowspan="1" style="width:10" >K</th>				<th class="th01" rowspan="1" style="width:10" >Tanggal Sensus</th>				<th class="th01" rowspan="1" style="width:10" >Tanggal Update</th>				';                $tamplCekListHeader = !($Adv == 1 && $cetak == FALSE) ? '' : '<th class="th01" rowspan=2 width="20" ><input type="checkbox" name="toggle" value="" onClick="checkAll(' . $Main->PagePerHal . ');"></th>';             $cari->header = '			<!--header -->			<tr>				<th class="th01" rowspan="1" width="40">No.</th>					' . $tamplCekListHeader . '				<th class="th01" rowspan="1" width="100">Kode / No Reg <br> Nama Barang</th>				<th class="th01" rowspan="1" width="250">Bidang / OPD / Unit</th>				<th class="th01" rowspan="1" width="150">Tahun / ' . $tampilHeaderHarga . '</th>				<!--det-->					<th class="th01" >Uraian</th>				<th class="th01" rowspan="1">Ket.</th>				' . $tampilHeaderStatus . '			</tr>						';                break;            }            }}function getOptCari($doCari, $addPageParam) { //create opt cari    //pilihan bidang,opd,unit tidak tergantung login -> tampil semua    global $selKondisiBrg, $selStatusBrg;    global $fmWIL, $fmSKPD, $fmUNIT, $fmSUBUNIT, $fmSEKSI,		$fmTahunPerolehan, $fmKEPEMILIKAN, $Main, $HTTP_COOKIE_VARS, $Pg, $SPg, $kode_barang, $nm_barang;    $KondisiSKPD = "";    $KondisiUNIT = "";    $KondisiSUBUNIT = "";	$KondisiSEKSI = "";    $fmJMLHARGA1 = $_POST['fmJMLHARGA1'];    $fmJMLHARGA2 = $_POST['fmJMLHARGA2'];    $disSKPD = "";    $disUNIT = "";    $disSUBUNIT = "";	$disSEKSI = "";    $disTAHUN = '';    $disKondisi = '';    if ($doCari != 1) {        $PilihSKPD = '<option value="">--- Semua Bidang ---</option>';        $PilihUNIT = "<option value='00'>--- Semua SKPD ---</option>";        $PilihSUBUNIT = "<option value='00'>--- Semua Unit ---</option>";		$PilihSEKSI = "<option value='00'>--- Semua Sub Unit ---</option>";        //Bidang -----------------        $Qry = mysql_query("select * from ref_skpd where d='00' $KondisiSKPD order by c");        $Ops = "";        while ($isi = mysql_fetch_array($Qry)) {            $sel = $fmSKPD == $isi['c'] ? "selected" : "";            $Ops .= '<option ' . $sel . ' value="' . $isi['c'] . '">' . $isi['nm_skpd'] . '</option>\n';        }        $ListSKPD = '			<select ' . $disSKPD . ' name="fmSKPD"			onChange="adminForm.target=\'_self\';adminForm.action=\'?Pg=' . $Pg . '&SPg=' . $SPg . $addPageParam . '\';			adminForm.fmUNIT.value=\'00\';			adminForm.submit()">' .                $PilihSKPD . ' ' . $Ops .                '</select>';        //OPD -------------        $Qry = mysql_query("select * from ref_skpd where c='" . $fmSKPD . "' and d <> '00'  and e = '00' " . $KondisiUNIT . " order by d");        $Ops = "";        while ($isi = mysql_fetch_array($Qry)) {            $sel = $fmUNIT == $isi['d'] ? "selected" : "";            $Ops .= "<option " . $sel . " value='" . $isi['d'] . "'>" . $isi['nm_skpd'] . "</option>\n";        }        $ListUNIT =                "<select " . $disUNIT . " name='fmUNIT'			onChange=\"adminForm.target='_self';adminForm.action='?Pg=" . $Pg . "&SPg=" . $SPg . $addPageParam . "';			adminForm.fmSUBUNIT.value='00';			adminForm.submit()\">" .                $PilihUNIT . " " . $Ops .                "</select>";        //subUnit --------------------        $Qry = mysql_query("select * from ref_skpd where c='$fmSKPD' and d = '" . $fmUNIT . "' and d<>'' and e <> '00' $KondisiSUBUNIT  and e1='000' order by e");        $Ops = "";        while ($isi = mysql_fetch_array($Qry)) {            $sel = $fmSUBUNIT == $isi['e'] ? "selected" : "";            $Ops .= "<option " . $sel . " value='" . $isi['e'] . "'>" . $isi['nm_skpd'] . "</option>\n";        }        $ListSUBUNIT = "			<select $disSUBUNIT name='fmSUBUNIT' 			onChange=\"adminForm.target='_self';			adminForm.action='?Pg=" . $Pg . "&SPg=" . $SPg . $addPageParam . "';			adminForm.submit()\">" . $PilihSUBUNIT . " " . $Ops . "</select>";				//seksi --------------------        $Qry = mysql_query("select * from ref_skpd where c='$fmSKPD' and d = '" . $fmUNIT . "' and e = '$fmSUBUNIT' $KondisiSUBUNIT  order by e1");        $Ops = "";        while ($isi = mysql_fetch_array($Qry)) {            $sel = $fmSEKSI == $isi['e'] ? "selected" : "";            $Ops .= "<option " . $sel . " value='" . $isi['e1'] . "'>" . $isi['nm_skpd'] . "</option>\n";        }        $ListSUBUNIT = "			<select $disSEKSI name='fmSEKSI' 			onChange=\"adminForm.target='_self';			adminForm.action='?Pg=" . $Pg . "&SPg=" . $SPg . $addPageParam . "';			adminForm.submit()\">" . $PilihSEKSI . " " . $Ops . "</select>";        $thnPerolehan = TahunPerolehan2($disTAHUN);        $konBrg = cmb2D_v2('selKondisiBrg', $selKondisiBrg, $Main->KondisiBarang, $disKondisi, 'Semua Kondisi');        $kdBrg = "<input type='text' name='kode_barang' value='" . $kode_barang . "'>";        $nmBrg = "<input type='text' name='nm_barang' value='" . $nm_barang . "' style='width:200px;'>";        $stBrg = cmb2D_v2('selStatusBrg', $selStatusBrg, $Main->StatusBarangView, $disStatusBrg, 'Inventaris');        $JmlHrg1 = 'Rp. ' . inputFormatRibuan('fmJMLHARGA1', '', $fmJMLHARGA1, '');        $JmlHrg2 = 's/d&nbsp;' . inputFormatRibuan('fmJMLHARGA2', '', $fmJMLHARGA2, '');    } else {        		$ListSKPD = table_get_value("select nm_skpd from ref_skpd where c='" . $fmSKPD . "' and d = '00'  and e = '00' ", "nm_skpd");        if ($fmSKPD == '00') {            $ListSKPD = '';        }        $ListSKPD = '<b>' . $ListSKPD . ' <input type="hidden" name="fmSKPD" value="' . $fmSKPD . '" > ';        $ListUNIT = table_get_value("select nm_skpd from ref_skpd where c='" . $fmSKPD . "' and d = '" . $fmUNIT . "'  and e = '00' ", "nm_skpd");        if ($fmUNIT == '00') {            $ListUNIT = '';        }        $ListUNIT = '<b>' . $ListUNIT . ' <input type="hidden" name="fmUNIT" value="' . $fmUNIT . '" > ';        $ListSUBUNIT = table_get_value("select nm_skpd from ref_skpd where c='" . $fmSKPD . "' and d = '" . $fmUNIT . "'  and e = '" . $fmSUBUNIT . "' and e1='000' ", "nm_skpd");        if ($fmSUBUNIT == '00') {            $ListSUBUNIT = '';        }        $ListSUBUNIT = '<b>' . $ListSUBUNIT . ' <input type="hidden" name="fmSUBUNIT" value="' . $fmSUBUNIT . '" > ';						$ListSEKSI = table_get_value("select nm_skpd from ref_skpd where c='" . $fmSKPD . "' and d = '" . $fmUNIT . "'  and e = '" . $fmSUBUNIT . "' and e1='$fmSEKSI' ", "nm_skpd");        if ($fmSEKSI == '000') {            $ListSEKSI = '';        }        $ListSEKSI = '<b>' . $ListSEKSI . ' <input type="hidden" name="fmSEKSI" value="' . $fmSEKSI . '" > ';        $thnPerolehan = '<b>' . $fmTahunPerolehan . ' <input type="hidden" name="fmTahunPerolehan" value="' . $fmTahunPerolehan . '" > ';        $konBrg = '<b>' . $Main->KondisiBarang[$selKondisiBrg - 1][1] . ' <input type="hidden" name="selKondisiBrg" value="' . $selKondisiBrg . '" > ';        $kdBrg = '<b>' . $kode_barang . ' <input type="hidden" name="kode_barang" value="' . $kode_barang . '" > ';        $nmBrg = '<b>' . $nm_barang . ' <input type="hidden" name="nm_barang" value="' . $nm_barang . '" > ';        if ($selStatusBrg == '') {            $stBrg = '<b>Inventaris</b> <input type="hidden" name="selStatusBrg" value="' . $selStatusBrg . '" > ';        } else {            $stBrg = '<b>' . $Main->StatusBarangView[$selStatusBrg - 1][1] . '</b> <input type="hidden" name="selStatusBrg" value="' . $selStatusBrg . '" > ';        }        $JmlHrg1 = $fmJMLHARGA1 == '' ? '' : '<b>Rp. ' . number_format($fmJMLHARGA1, 2, ',', '.');        $JmlHrg1 .= "<input type='hidden' id='fmJMLHARGA1' name='fmJMLHARGA1' value='$fmJMLHARGA1'>";        $JmlHrg2 = $fmJMLHARGA2 != '' ? '<b>s/d&nbsp;' . number_format($fmJMLHARGA2, 2, ',', '.') : '';        $JmlHrg2 .= "<input type='hidden' id='fmJMLHARGA2' name='fmJMLHARGA2' value='$fmJMLHARGA2'>";        if ($fmJMLHARGA2 == '' && $fmJMLHARGA1 <> '')            $JmlHrg1 = '<b> >= ' . $JmlHrg1;    }    $Hsl = "		<input type='hidden' name='doCari' id='doCari' value='" . $doCari . "'>		<table width=\"100%\" height=\"100%\"  > 			<tr valign=\"top\"> <td width='100' height='22'>BIDANG</td>   <td width='10'>:</td>   <td>$ListSKPD</td> </tr> 							<tr valign=\"top\"> <td height='24'>SKPD</td> <td>:</td> <td>$ListUNIT</td> </tr> 			<tr valign=\"top\"> <td height='24'>UNIT</td> <td>:</td> <td>$ListSUBUNIT</td> </tr> 			<tr valign=\"top\"> <td height='24'>SUB UNIT</td> <td>:</td> <td>$ListSEKSI</td> </tr> 								<tr> <td height='24'>PROVINSI</td> <td>:</td> <td><b>{$Main->Provinsi[1]}</b></td> </tr> 							<tr> <td height='24'>KOTA/KAB</td> <td>:</td> <td><b>{$Main->NM_WILAYAH2}</b></td> </tr> 							<tr> <td height='24'>TAHUN</td> <td>:</td> <td><b>" . $thnPerolehan            . "</b></td> </tr>			<tr> <td height='24'>KONDISI</td> <td>:</td> <td><b>" .            $konBrg .            "</b></td> </tr>			<tr > <td height='24' >KODE BARANG</td> <td>:</td> <td>" . $kdBrg . " </td> </tr>			<tr > <td height='24'>NAMA BARANG</td> <td>:</td> <td>" . $nmBrg . "</td> </tr>			<tr > <td height='24'>STATUS BARANG</td> <td>:</td> <td> " . $stBrg . "  </td> </tr>			<tr > <td height='24'>HARGA PEROLEHAN</td> <td>:</td> <td> " . $JmlHrg1 . "  </td> </tr>			<tr > <td height='24'></td> <td></td> <td> " . $JmlHrg2 . "  </td> </tr>					</table> 					";    return $Hsl . $cek;}?>