<?php//API V3 ----------------------------$scriptV3 =  "	<link href='http://code.google.com/apis/maps/documentation/javascript/examples/default.css' rel='stylesheet' type='text/css' />	<script type='text/javascript' src='http://maps.google.com/maps/api/js?sensor=false'></script>	<script type='text/javascript'>		function initialize() {  			var chicago = new google.maps.LatLng(-6.90207, 107.618332);  			var myOptions = {    			zoom: 16,    			center: chicago,    			mapTypeId: google.maps.MapTypeId.ROADMAP  			}  			var map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);  			var ctaLayer = new google.maps.KmlLayer('http://atisisbada.net/pages/map/gen_map.php');  			ctaLayer.setMap(map);		}	</script>";//API v2 ------------------------------------------------$CenterMAP_lat = '-6.90207';$CenterMAP_lng = '107.618332';$isLargeMAP = TRUE;$ZoomMAP = 16;//$URLKMLLayer = 'http://atisisbada.net/pages/map/gen_map_nl.kml';$URLKMLLayer = 'http://atisisbada.net/pages/map/gen_map.php?unik='.(mt_rand());//$URLKMLLayer = 'http://atisisbada.net/pages/map/gen_map.kml';//$URLKMLLayer = 'http://atisisbada.net/pages/map/kml_example2.kml';$KeyAPI = 'ABQIAAAA0v9TR7DzktUixI7HudY_RRRDHi7C3D_AuatlzcvXqKhcM7CorhQ2C9Sr3ywKCMrx4DzEKQP-ogrbjA';$idMAPCanvas = 'map_canvas';$MAP_width = 900;$MAP_height = 500;$AddOverview = $isLargeMAP? 'map.addControl(new GOverviewMapControl());' : '';$scriptV2 =  "	<script type='text/javascript' src='http://www.google.com/jsapi?key=$KeyAPI'></script>	<script type='text/javascript'>		google.load('maps', '2');		var map;		var earth;		var geoXml;		function initialize() {  			  			  			if (GBrowserIsCompatible()) {    			map = new GMap2(document.getElementById('$idMAPCanvas'));    			//map.addControl(new GSmallMapControl()); //map.addControl(new GLargeMapControl());    			map.addControl(new GMapTypeControl());								map.addControl(new GLargeMapControl3D());				$AddOverview	    			geoXml = new GGeoXml('$URLKMLLayer');    			map.addOverlay(geoXml);    			map.setCenter(new GLatLng($CenterMAP_lat, $CenterMAP_lng), $ZoomMAP);					map.addMapType(G_SATELLITE_3D_MAP );				var mapControl = new GMapTypeControl();				map.addControl(mapControl);															GEvent.addListener(map, 'maptypechanged', function() { 					//alert(map.getCurrentMapType().getName(true));					var nm = map.getCurrentMapType().getName(true);					switch (nm){						case 'Map': break;						case 'Sat': break;						case 'Hyb':break;						case 'Earth': {							setTimeout('setLayer()',1000);														break;						}					}				});					  			}					}		function setLayer(){						map.getEarthInstance(function(ge) {					     				ge.getLayerRoot().enableLayerById(ge.LAYER_ROADS , true);					ge.getLayerRoot().enableLayerById(ge.LAYER_TERRAIN , true);					ge.getLayerRoot().enableLayerById(ge.LAYER_TREES , true);					ge.getLayerRoot().enableLayerById(ge.LAYER_BORDERS , true);										//alert('tes');					  				});					}		/*** --------------------------------				function updateOptions() {  					var options = ge.getOptions();  					var form = document.options;    					options.setStatusBarVisibility(form.statusbar.checked);  					options.setGridVisibility(form.grid.checked);  					options.setOverviewMapVisibility(form.overview.checked);  					options.setScaleLegendVisibility(form.scaleLegend.checked);  					options.setAtmosphereVisibility(form.atmosphere.checked);  					options.setMouseNavigationEnabled(form.mouseNav.checked);  					if (form.nav.checked) {    					ge.getNavigationControl().setVisibility(ge.VISIBILITY_SHOW);  					} else {    					ge.getNavigationControl().setVisibility(ge.VISIBILITY_HIDE);  					}				}*/		function initCB(instance) {        	ge = instance;			ge.getLayerRoot().enableLayerById(ge.LAYER_ROADS , true);		}	</script>"; //script Google Earth$scriptEarth ="	<!--<script src='//www.google.com/jsapi?key=ABQIAAAA5El50zA4PeDTEMlv-sXFfRSsTL4WIgxhMZ0ZK_kHjwHeQuOD4xTdBhxbkZWuzyYTVeclkwYHpb17ZQ'></script>-->	<script src='//www.google.com/jsapi?key=$KeyAPI'></script>   <script type='text/javascript'>	var ge;      var placemark;      var kmlObject;      google.load('earth', '1');      function init() {         google.earth.createInstance('$idMAPCanvas', initCB, failureCB);      }      function initCB(instance) {         ge = instance;         ge.getWindow().setVisibility(true);         //var href = 'http://code.google.com/apis/earth/documentation/samples/kml_example2.kml';		 var href = '$URLKMLLayer';		 //var href = 'http://atisisbada.net/pages/map/kml_example2.kml';         google.earth.fetchKml(ge, href, kmlFinishedLoading);         placemark = ge.createPlacemark('');         var point = ge.createPoint('');         point.setLatLng($CenterMAP_lat, $CenterMAP_lng);		 //point.setLatLng(37.803521, -122.450274);         placemark.setName('Placemark from Earth API');         placemark.setGeometry(point);      }      function kmlFinishedLoading(obj) {         		 kmlObject = obj;         if (kmlObject) {            if ('getFeatures' in kmlObject) {               kmlObject.getFeatures().appendChild(placemark);            }            ge.getFeatures().appendChild(kmlObject);            if (kmlObject.getAbstractView())               ge.getView().setAbstractView(kmlObject.getAbstractView());         }		 //kmlObject.setVisibility(true);		       }      function showHideKml() {         kmlObject.setVisibility(!kmlObject.getVisibility());      }      function failureCB(errorCode) {	  	alert(errorCode);      }      google.setOnLoadCallback(init);	  	  function initialize(){}	  </script>";$linecolor = '73FF0000';$linewidth = 2;$scriptJsV2 = "		<script type='text/javascript' src='http://www.google.com/jsapi?key=$KeyAPI'></script>		<script type='text/javascript'>							//map ---------			google.load('maps', '2');			var map;			var earth;									function showmap2() {  			  			  			if (GBrowserIsCompatible()) {				//var skoord = document.getElementById('koordinat_gps').value;//skoord = skoord.replace(' ','');				//var akoord = skoord.split(',');				var koord_lat = '-6.90207';//akoord[0];				var koord_lng = '107.618332';//akoord[1];					//var sbidang = document.getElementById('koord_bidang').value;				//var abidang = sbidang.split(';');					var center_lat = koord_lat;				var center_lng = koord_lng;								var mapcanvas = document.getElementById('$idMAPCanvas');				mapcanvas.style.width='".$MAP_width."';				mapcanvas.style.height='".$MAP_height."';				    			map = new GMap2(document.getElementById('$idMAPCanvas'));    			    			map.addControl(new GMapTypeControl());								map.addControl(new GLargeMapControl3D());				$AddOverview	    			//geoXml = new GGeoXml('$URLKMLLayer');    			//map.addOverlay(geoXml);    			map.setCenter(new GLatLng(center_lat, center_lng), $ZoomMAP);					map.addMapType(G_SATELLITE_3D_MAP );				var mapControl = new GMapTypeControl();				map.addControl(mapControl);										//create point -------------------				var point = new GLatLng(koord_lat, koord_lng);    			map.addOverlay(new GMarker(point));								//create bidang ------------------				var aPolyKoord = new Array();				/*for(i=0 ;i<abidang.length;i++){					var abidangpoint= abidang[i].split(',');					//alert(abidangpoint[1]+', '+abidangpoint[0]);					aPolyKoord.push(new GLatLng(abidangpoint[0], abidangpoint[1] )) 				}*/				/*				aPolyKoord = [					new GLatLng(107.617050,-6.901437),					new GLatLng(107.619644,-6.901384),					new GLatLng(107.619713,-6.901642), 					new GLatLng(107.619858,-6.901887),					new GLatLng(107.620216,-6.902175),					new GLatLng(107.620399,-6.902218),					new GLatLng(107.620598,-6.902356),					new GLatLng(107.620941,-6.902654),					new GLatLng(107.620285,-6.903279),					new GLatLng(107.620163,-6.903229),					new GLatLng(107.619652,-6.903546),					new GLatLng(107.617699,-6.903578),					new GLatLng(107.617371,-6.903410),					new GLatLng(107.617111,-6.903098),					new GLatLng(107.617050,-6.901437)					]				*/				var polyline = new GPolyline([					new GLatLng(-6.901437, 107.617050),					new GLatLng(-6.901384, 107.619644),					new GLatLng(-6.901642, 107.619713), 					new GLatLng(-6.901887, 107.619858),					new GLatLng(-6.902175, 107.620216),					new GLatLng(-6.902218, 107.620399),					new GLatLng(-6.902356, 107.620598),					new GLatLng(-6.902654, 107.620941),					new GLatLng(-6.903279, 107.620285),					new GLatLng(-6.903229, 107.620163),					new GLatLng(-6.903546, 107.619652),					new GLatLng(-6.903578, 107.617699),					new GLatLng(-6.903410, 107.617371),					new GLatLng(-6.903098, 107.617111),					new GLatLng(-6.901437, 107.617050)					], 					'$linecolor', 					$linewidth);				map.addOverlay(polyline);																	GEvent.addListener(map, 'maptypechanged', function() { 					//alert(map.getCurrentMapType().getName(true));					var nm = map.getCurrentMapType().getName(true);					switch (nm){						case 'Map': break;						case 'Sat': break;						case 'Hyb':break;						case 'Earth': {							setTimeout('setLayer()',1000);														break;						}					}				});					  			}						}			function setLayer(){							map.getEarthInstance(function(ge) {					     				ge.getLayerRoot().enableLayerById(ge.LAYER_ROADS , true);					ge.getLayerRoot().enableLayerById(ge.LAYER_TERRAIN , true);					ge.getLayerRoot().enableLayerById(ge.LAYER_TREES , true);					ge.getLayerRoot().enableLayerById(ge.LAYER_BORDERS , true);										//alert('tes');					  				});						}		</script>			";echo"<html>	<head>		$scriptJsV2	</head>	<body onload='showmap2()'> 		<div id='$idMAPCanvas' style='width:$MAP_width;height:$MAP_height'></div>		<!--<input type='button' name='btn' onclick='setLayer()'>-->						<form action='' name='mapForm' method='post'>			<input type='submit' name='submit'>		</form>	</body></html>";?>